<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuoteVault - Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 640'><path fill='white' d='M102.8 57.3C108.2 51.9 116.6 51.1 123 55.3L241.9 134.5C250.8 140.4 256.1 150.4 256.1 161.1L256.1 210.7L346.9 301.5C380.2 286.5 420.8 292.6 448.1 320L574.2 446.1C592.9 464.8 592.9 495.2 574.2 514L514.1 574.1C495.4 592.8 465 592.8 446.2 574.1L320.1 448C292.7 420.6 286.6 380.1 301.6 346.8L210.8 256L161.2 256C150.5 256 140.5 250.7 134.6 241.8L55.4 122.9C51.2 116.6 52 108.1 57.4 102.7L102.8 57.3zM247.8 360.8C241.5 397.7 250.1 436.7 274 468L179.1 563C151 591.1 105.4 591.1 77.3 563C49.2 534.9 49.2 489.3 77.3 461.2L212.7 325.7L247.9 360.8zM416.1 64C436.2 64 455.5 67.7 473.2 74.5C483.2 78.3 485 91 477.5 98.6L420.8 155.3C417.8 158.3 416.1 162.4 416.1 166.6L416.1 208C416.1 216.8 423.3 224 432.1 224L473.5 224C477.7 224 481.8 222.3 484.8 219.3L541.5 162.6C549.1 155.1 561.8 156.9 565.6 166.9C572.4 184.6 576.1 203.9 576.1 224C576.1 267.2 558.9 306.3 531.1 335.1L482 286C448.9 253 403.5 240.3 360.9 247.6L304.1 190.8L304.1 161.1L303.9 156.1C303.1 143.7 299.5 131.8 293.4 121.2C322.8 86.2 366.8 64 416.1 63.9z'/></svg>">

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/admin.css">
    <script src="js/admin.js"></script>
</head>

<body class="theme-movie">

    <div class="admin-layout">

        <aside class="sidebar admin-sidebar">
            <div class="sidebar-header">
                Database
                <i class="fa-solid fa-server"></i>
            </div>

            <div class="search-wrapper">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="searchInput" placeholder="Search content..." onkeyup="searchContent()">
            </div>

            <div class="filter-row">
                <div class="filter-chip active" onclick="filterList('all', this)" title="All">
                    <i class="fa-solid fa-layer-group"></i>
                </div>
                <div class="filter-chip" onclick="filterList('movie', this)" title="Movies">
                    <i class="fa-solid fa-film"></i>
                </div>
                <div class="filter-chip" onclick="filterList('series', this)" title="TV Series">
                    <i class="fa-solid fa-tv"></i>
                </div>
                <div class="filter-chip" onclick="filterList('game', this)" title="Games">
                    <i class="fa-solid fa-gamepad"></i>
                </div>
            </div>

            <div class="content-list" id="contentList"></div>

            <button class="btn-new" onclick="resetForm()">
                <i class="fa-solid fa-plus"></i> Create New
            </button>
        </aside>

        <main class="main-stage">
            <header class="stage-header">
                <div class="logo">QUOTE<span>VAULT</span></div>
                <div class="type-toggles">
                    <button class="type-btn active" onclick="setCategory('movie')">Movie</button>
                    <button class="type-btn" onclick="setCategory('series')">Series</button>
                    <button class="type-btn" onclick="setCategory('game')">Game</button>
                </div>
            </header>

            <input type="hidden" id="editContentId">
            <input type="hidden" id="inpTitle">

            <div class="sections-container">

                <div class="content-section">
                    <div class="section-header">Quote Clips</div>
                    <div id="list-quotes" class="section-list"></div>
                    <button class="btn-add-item" onclick="addQuoteItem()">
                        <i class="fa-solid fa-plus"></i> Add Clip
                    </button>
                </div>

                <div class="content-section">
                    <div class="section-header">Character Images</div>
                    <div id="list-chars" class="section-list"></div>
                    <button class="btn-add-item" onclick="addCharItem()">
                        <i class="fa-solid fa-plus"></i> Add Image
                    </button>
                </div>

                <div class="content-section">
                    <div class="section-header">Banner Images</div>
                    <div id="list-banners" class="section-list"></div>
                    <button class="btn-add-item" onclick="addBannerItem()">
                        <i class="fa-solid fa-plus"></i> Add Banner
                    </button>
                </div>

            </div>
        </main>

        <aside class="meta-panel">
            <div class="tag-area">
                <div class="meta-header-row">
                    <div class="card-label" style="text-align:left; margin:0;">Metadata</div>

                    <button id="btnDelete" class="btn-meta-delete" onclick="deleteFranchise()" title="Delete Franchise"
                        style="display: none;">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                </div>

                <input type="text" class="form-input" id="metaTitle" placeholder="Franchise Title (e.g. Breaking Bad)"
                    style="margin-bottom:15px;">



                <div class="card-label"
                    style="text-align:left; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center;">
                    <span>Tags & Weight</span>
                    <button class="btn-new" onclick="openTagManager()"
                        style="width:auto; padding:4px 10px; font-size:0.7rem;">
                        <i class="fa-solid fa-list"></i> Manage DB
                    </button>
                </div>

                <div class="tag-search-wrapper" style="position:relative; margin-bottom:10px;">
                    <div style="display: flex; gap: 8px;">
                        <input type="text" class="form-input" id="tagSearchInput" placeholder="Search or create..."
                            autocomplete="off" onfocus="showAllTags()">
                    </div>
                    <div id="tagSuggestions" class="tag-dropdown hidden"></div>
                </div>

                <div class="tag-list-container" id="selectedTagsList"></div>


                <div id="tagManagerModal" class="modal-overlay hidden">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Global Tag Manager</h3>
                            <button class="btn-close-modal" onclick="closeTagManager()"><i
                                    class="fa-solid fa-times"></i></button>
                        </div>
                        <div class="modal-body">
                            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <input type="text" class="form-input" id="managerSearch"
                                    placeholder="Search all tags in DB..." onkeyup="filterManagerList()">

                                <button class="btn-new" onclick="clearManagerSearch()" title="Clear Search"
                                    style="width: 50px; padding:0; display:flex; align-items:center; justify-content:center;">
                                    <i class="fa-solid fa-eraser"></i>
                                </button>
                            </div>
                            <div class="manager-list" id="managerList"></div>
                        </div>
                    </div>
                </div>


            </div>

            <div style="margin-top: auto;">
                <button class="btn-save" id="btnSave" onclick="saveContent()">
                    <i class="fa-solid fa-floppy-disk"></i>
                    <span id="btnSaveText">Save Movie</span>
                </button>
            </div>
        </aside>

    </div>
</body>

</html>