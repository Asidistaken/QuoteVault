<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuoteVault - Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/admin.css">
    <script src="js/admin.js"></script>
</head>

<body class="theme-movie">

    <div class="admin-layout">

        <aside class="sidebar admin-sidebar">
            <div class="sidebar-header">
                Database
                <i class="fa-solid fa-server"></i>
            </div>

            <div class="search-wrapper">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="searchInput" placeholder="Search content..." onkeyup="searchContent()">
            </div>

            <div class="filter-row">
                <div class="filter-chip active" onclick="filterList('all', this)" title="All">
                    <i class="fa-solid fa-layer-group"></i>
                </div>
                <div class="filter-chip" onclick="filterList('movie', this)" title="Movies">
                    <i class="fa-solid fa-film"></i>
                </div>
                <div class="filter-chip" onclick="filterList('series', this)" title="TV Series">
                    <i class="fa-solid fa-tv"></i>
                </div>
                <div class="filter-chip" onclick="filterList('game', this)" title="Games">
                    <i class="fa-solid fa-gamepad"></i>
                </div>
            </div>

            <div class="content-list" id="contentList"></div>

            <button class="btn-new" onclick="resetForm()">
                <i class="fa-solid fa-plus"></i> Create New
            </button>
        </aside>

        <main class="main-stage">
            <header class="stage-header">
                <div class="logo">QUOTE<span>VAULT</span></div>
                <div class="type-toggles">
                    <button class="type-btn active" onclick="setCategory('movie')">Movie</button>
                    <button class="type-btn" onclick="setCategory('series')">Series</button>
                    <button class="type-btn" onclick="setCategory('game')">Game</button>
                </div>
            </header>

            <input type="hidden" id="editContentId">
            <input type="hidden" id="inpTitle">

            <div class="sections-container">

                <div class="content-section">
                    <div class="section-header">Quote Clips</div>
                    <div id="list-quotes" class="section-list"></div>
                    <button class="btn-add-item" onclick="addQuoteItem()">
                        <i class="fa-solid fa-plus"></i> Add Clip
                    </button>
                </div>

                <div class="content-section">
                    <div class="section-header">Character Images</div>
                    <div id="list-chars" class="section-list"></div>
                    <button class="btn-add-item" onclick="addCharItem()">
                        <i class="fa-solid fa-plus"></i> Add Image
                    </button>
                </div>

                <div class="content-section">
                    <div class="section-header">Banner Images</div>
                    <div id="list-banners" class="section-list"></div>
                    <button class="btn-add-item" onclick="addBannerItem()">
                        <i class="fa-solid fa-plus"></i> Add Banner
                    </button>
                </div>

            </div>
        </main>

        <aside class="meta-panel">
            <div class="tag-area">
                <div class="meta-header-row">
                    <div class="card-label" style="text-align:left; margin:0;">Metadata</div>

                    <button id="btnDelete" class="btn-meta-delete" onclick="deleteFranchise()" title="Delete Franchise"
                        style="display: none;">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                </div>

                <input type="text" class="form-input" id="metaTitle" placeholder="Franchise Title (e.g. Breaking Bad)"
                    style="margin-bottom:15px;">



                <div class="card-label"
                    style="text-align:left; margin-bottom:10px; display:flex; justify-content:space-between; align-items:center;">
                    <span>Tags & Weight</span>
                    <button class="btn-new" onclick="openTagManager()"
                        style="width:auto; padding:4px 10px; font-size:0.7rem;">
                        <i class="fa-solid fa-list"></i> Manage DB
                    </button>
                </div>

                <div class="tag-search-wrapper" style="position:relative; margin-bottom:10px;">
                    <div style="display: flex; gap: 8px;">
                        <input type="text" class="form-input" id="tagSearchInput" placeholder="Search or create..."
                            autocomplete="off" onfocus="showAllTags()">
                    </div>
                    <div id="tagSuggestions" class="tag-dropdown hidden"></div>
                </div>

                <div class="tag-list-container" id="selectedTagsList"></div>


                <div id="tagManagerModal" class="modal-overlay hidden">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Global Tag Manager</h3>
                            <button class="btn-close-modal" onclick="closeTagManager()"><i
                                    class="fa-solid fa-times"></i></button>
                        </div>
                        <div class="modal-body">
                            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <input type="text" class="form-input" id="managerSearch"
                                    placeholder="Search all tags in DB..." onkeyup="filterManagerList()">

                                <button class="btn-new" onclick="clearManagerSearch()" title="Clear Search"
                                    style="width: 50px; padding:0; display:flex; align-items:center; justify-content:center;">
                                    <i class="fa-solid fa-eraser"></i>
                                </button>
                            </div>
                            <div class="manager-list" id="managerList"></div>
                        </div>
                    </div>
                </div>


            </div>

            <div style="margin-top: auto;">
                <button class="btn-save" id="btnSave" onclick="saveContent()">
                    <i class="fa-solid fa-floppy-disk"></i>
                    <span id="btnSaveText">Save Movie</span>
                </button>
            </div>
        </aside>

    </div>
</body>

</html>